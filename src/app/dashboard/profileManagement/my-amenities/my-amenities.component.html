<ngx-spinner bdColor="#fff" size="medium" color="#fff">
  <p style="font-size: 20px; color: white" class="loaderbg">
    <img src="assets/img/favicon.jpg" class="loader-logo" width="100" />
  </p>
</ngx-spinner>
<h4>
  My Amenities
  <button
    *ngIf="savedAminities && savedAminities.length"
    (click)="addMore = !addMore"
    class="btn btn-primary add-more"
  >
    Add More
  </button>
</h4>
<hr>
<!-- <p style="color:#4a86ab"><i class="fas fa-star-of-life"></i>  Invite a colleague and give them 10% discount to join and receive 10% discount towards your subscription after they join.</p> -->
<hr>
<table
  class="table table-hover comparetable"
  *ngIf="savedAminities && savedAminities.length"
>
  <thead>
    <tr>
      <th>
        <h5>Title</h5>
      </th>
      <th>
        <h5>Images</h5>
      </th>
      <th>
        <h5>Delete</h5>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let aminity of savedAminities | paginate: { id: 'amenity',
    itemsPerPage: 5,
    currentPage: currentPage,
    totalItems: totalItems 
    }">
      <td width="30%">
        {{ aminity.defaultamenityId.item_text }}
      </td>
      <td width="60%">
        <div class="img-list" *ngFor="let img of aminity.images; let i = index">
          <img
            [src]="AWS_S3 + img"
          />
        </div>
      </td>
      <td width="10%">
        <button (click)="deleteAmenity(aminity._id)" class="btn btn-danger small">
          <i iconPh="trash" class="large"></i>
        </button>
      </td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td colspan="3" *ngIf="totalItems > 5">
          <pagination-controls
              id="amenity" 
              (pageChange)="currentPage = $event"></pagination-controls>
      </td>
    </tr>
</tfoot>
</table>
<div
  class="row"
  *ngIf="(savedAminities && savedAminities.length == 0) || addMore"
>
  <div
    class="col-md-6 amenity-options"
    *ngFor="let amenity of defaultAmenities; let i = index"
  >
    <div class="radio">
      <h5>{{ amenity.item_text }}</h5>
      <div class="amenityicon">
        <input
          type="checkbox"
          name="answers"
          class="mr-2"
          [id]="amenity._id"
          [checked]="amenity._id == selectedAmenityId"
          (change)="getSelectedAmenties($event, amenity)"
        />
        <img
          [src]="
            AWS_S3 + 'amenities/' + amenity.icon
          "
          class="am-icons"
        />
        <i class="far fa-square"></i>
        <i class="fa fa-check"></i>
      </div>
      <div class="form-group" *ngIf="selectedAmenityId === amenity._id">
        <div class="mt-3 mb-3">
          <div *ngFor="let url of imagesList" class="multipleImage">
            <img
              [src]="AWS_S3 + url"
              height="200"
            />
            <br />
            <!-- <a (click)="removefromList(url)" class="fa fa-times"></a>  -->
          </div>
        </div>
        <div class="upload-input btn btn-outline">
          <input
            type="file"
            name="profile"
            [id]="amenity._id"
            (change)="onFileSelect($event)"
            multiple
          />
          Upload Image
        </div>
      </div>
    </div>
  </div>

  <div class="col-sm-12 text-right">
    <hr />
    <button class="btn btn-primary" (click)="getSavedAmenties()">Save</button>
  </div>
</div>
