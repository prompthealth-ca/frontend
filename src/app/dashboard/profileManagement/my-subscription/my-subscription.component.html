<div class="d-flex justify-content-between align-items-center">

    <h4>My Active Plan</h4>
    <button class="btn btn-primary" (click)="manageBilling()" *ngIf="defaultPlan && defaultPlan.price > 0">Manage subscription</button>
</div>
<hr>
<div *ngIf="defaultPlan; else noPlan">
    <div class="row">
        <div class="col-sm-6">
            <div class="row">
                <label class="col-md-4"><b>Plan Name:</b></label>
                <p class="col-md-8">{{ defaultPlan?.planName }} {{defaultPlan?.subscriptionPeriod==='year'? 'Yearly':
                    'Monthly'}}</p>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="row">
                <label class="col-md-3"><b>Price:</b></label>
                <p class="col-md-9">{{ defaultPlan?.subscriptionPeriod==='year'? defaultPlan.yearlyPrice: defaultPlan.price | currency:'CAD'}}</p>
            </div>
        </div>
    </div>
    <hr>
    <h6>Features:</h6>

    <div class="row">
        <ng-container *ngIf="defaultPlan.userType[0] == 'P'">
          <label class="col-md-6">Company name</label>
          <label class="col-md-6">Description</label>
          <label class="col-md-6">Link</label>
          <label class="col-md-6">5 pictures</label>
          <label class="col-md-6">Contact info</label>
        </ng-container>
        <label *ngIf="defaultPlan?.professionalProfile" class="col-md-6">Professional Profile</label>
        <label *ngIf="defaultPlan?.addressURLLogoPicture" class="col-md-6">Address, URL, Logo Picture</label>
        <label *ngIf="defaultPlan?.videoUpload" class="col-md-6">Video Upload</label>
        <label *ngIf="defaultPlan?.performanceDashboard" class="col-md-6">Performance Dashboard</label>
        <label *ngIf="defaultPlan?.reviewsAndFeedback" class="col-md-6">Reviews And Feedback</label>
        <label *ngIf="defaultPlan?.ListProductsOption" class="col-md-6">List Of Products</label>
        <label *ngIf="defaultPlan?.ListAmenities" class="col-md-6">List Of Amenities </label>
        <label *ngIf="defaultPlan?.ListOfProviders" class="col-md-6">List Of Providers</label>
        <label *ngIf="defaultPlan?.featuredOnHomePage" class="col-md-6">Get featured on the homepage of our web and App</label>
    </div>
</div>
<div *ngIf="userRole && userRole != 'P'">
  <h4 class="mt-5">Add-On plans</h4>
  <div class="row" *ngIf="(addOnPlans && (addOnPlans | json) != '{}'); else noAddonPlan">
    <div *ngFor="let addOnPlan of this.addOnPlans | keyvalue" class="mb-3 col-6 col-md-4 col-lg-3">
      <h5>
        {{addOnPlan.value.name}}
      </h5>
      <div style="margin-bottom: 2rem;white-space:pre-wrap;">{{addOnPlan.value.description}}
      </div>
    </div>
  </div>
</div>

<ng-template #noPlan>
    <h5>No Plans listed...</h5>
</ng-template>

<ng-template #noAddonPlan>
  <p>No Add-on Plan yet. Our Add-on plans offer great marketing value and help you grow your business</p>
  <button  type="button" class="btn btn-primary" [routerLink]="(userRole == 'P') ? ['/plans/product'] : ['/plans']">See our add-on plans</button>
</ng-template>