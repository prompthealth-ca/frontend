<header class="bg-white py-5p py-md-10p border-bottom border-line">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <a routerLink="/">
          <img class="d-md-none" src="assets/img/logo-sm.png" alt="PromptHealth" width="auto" height="20">
          <img class="d-none d-md-block" src="assets/img/logo.png" alt="PromptHealth" width="auto" height="25">
        </a>
      </div>
      <nav>
        <ul class="d-flex justify-content-between align-items-center list-unstyled mb-0 subtitle2 text-body">
          <li class="mx-15p d-none d-lg-block">
            <a routerLink="/practitioners" class="text-body">Find Practitioners</a>
          </li>
          <li class="mx-15p d-none d-lg-block">
            <a routerLink="/products" class="text-body">Products</a>
          </li>
          <li class="mx-10p d-none d-lg-block">
            <a routerLink="/about" class="text-body">About</a>
          </li>

          <!-- <li class="mx-10p d-none d-lg-block">
            <a routerLink="/plans" class="text-body">Get Listed</a>
          </li> -->

          <li class="mx-15p d-none d-lg-block position-relative" (clickOutside)="hidePlanMenu()">
            <a class="text-body" (click)="onClickGetListed()">Get listed</a>
            <i iconPh="chevron-down" class="ml-5p"></i>
            <div 
            *ngIf="isPlanMenuShown"
            [@fade]
            class="px-30p bg-white rounded-12p shadow get-listed-md-container"
            >
              <a
              *ngFor="let item of planMenuData;"
              [routerLink]="[item.link]" 
              (click)="hidePlanMenu()"
              >
                <div class="py-30p border-bottom border-line">
                  <h6 class="d-flex">
                    <span class="flex-grow-1">
                      <i [iconPh]="item.icon" class="mr-10p text-primary-dark"></i>
                      <span class="text-body">{{item.title}}</span>
                    </span>
                    <i iconPh="chevron-right" class="text-placeholder"></i>
                  </h6>
                  <p class="mb-0 body2 text-label">{{item.text}}</p>
                </div>
              </a>
            </div>
          </li>

          <li *ngIf="!isLoggedIn" class="mx-15p d-none d-lg-block">
            <a routerLink="/auth/login" class="text-body">Login</a>
            /
            <a routerLink="/auth/registration/u" class="text-body">Register</a>
          </li>

          <li *ngIf="isLoggedIn" class="mx-10p mx-lg-15p cursor-pointer">
            <profile-image [image]="user?.profileImageFull" (click)="onClickUserIcon()"></profile-image>
          </li>
          <li class="ml-10p ml-lg-15p">
            <a routerLink="/community/feed" class="btn btn-primary small">
              <i iconPh="users"></i>
              <span>Community</span>
            </a>
          </li>
          <li class="d-lg-none">
            <button class="btn btn-icon small pr-0 py-5p ml-10p" (click)="showMenuSm()">
              <i iconPh="menu" class="large"></i>
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

<!-- Menu for Small view-->
<div class="menu-sm bg-white" *ngIf="isMenuSmShown">
  <div class="py-5p py-md-10p container">
    <div class="d-flex justify-content-end align-items-center">
      <div *ngIf="user" class="mx-10p">
        <profile-image [image]="user?.profileImage" (click)="onClickUserIcon()"></profile-image>
      </div>
      <a routerLink="/community" class="btn btn-primary small ml-10p">
        <i iconPh="users"></i>
        <span>Community</span>
      </a>
      <button class="btn btn-icon small pr-0 py-5p ml-10p">
        <i class="large" iconPh="cross" (click)="hideMenuSm()"></i>
      </button>
    </div>

  </div>

  <div class="d-flex flex-nowrap overflow-hidden mt-60p" #menuSm>
    <div class="menu-inner">
      <div class="container">
        <list-item action="chevron-right" (onTap)="onClickMenuItemSm('/')">
          <div class="subtitle1">Home</div>
        </list-item>

        <list-item action="chevron-right" (onTap)="onClickMenuItemSm('/practitioners')">
          <div class="subtitle1">Find Practitioners</div>
        </list-item>

        <list-item action="chevron-right" (onTap)="onClickMenuItemSm('/about')">
          <div class="subtitle1">About</div>
        </list-item>

        <list-item action="chevron-right" (onTap)="onClickMenuItemSm('/products')">
          <div class="subtitle1">Products/Services</div>  
        </list-item>

        <!-- <list-item action="chevron-right" (onTap)="onClickMenuItemSm('/plans')">
          <div class="subtitle1">Get Listed</div>
        </list-item> -->

        <list-item action="chevron-down" (onTap)="onClickGetListed()">
          <div class="subtitle1">Get listed</div>  
        </list-item>

        <div 
        *ngIf="isPlanMenuSmShown"
        [@expandVertical]
        >
          <list-item 
          *ngFor="let item of planMenuData;" 
          action="chevron-right"
          (onTap)="onClickMenuItemSm(item.link)"
          >
            <div class="subtitle1 text-primary mb-5p">
              <i [iconPh]="item.icon" class="mr-5p"></i>
              <span class="text-body">{{item.title}}</span>
            </div>
            <p class="mb-0 body2">{{item.text}}</p>
          </list-item>
        </div>

        <list-item *ngIf="!isLoggedIn">
          <div>
            <a class="subtitle1 text-body" (click)="onClickMenuItemSm('/auth/login')">Login</a>
            <span> / </span>
            <a class="subtitle1 text-body" (click)="onClickMenuItemSm('/auth/registration/u')">Register</a>
          </div>
        </list-item>
      </div>
    </div>
  </div>
</div>

<modal-user-menu [staySamePageWhenLogout]="false"></modal-user-menu>